<ng-container>
  <div class="d-flex justify-content-center align-items-center text-app font-weight-bold">
    <h1 class="font-weight-bold">Thông tin chi tiết sách <span>{{book?.book_name}}</span></h1>
  </div>
  <ng-container *ngIf="!isEditing, else updateForm">
    <div class="d-flex flex-row p-5 mb-4">
      <div class="avatar col-3 mb-4">
        <div class="d-flex flex-column">
          <img src='assets/images/default-book.png' style="height: 390px; width: 390px; object-fit: cover;" alt="Avatar" />
          <b class="mt-3">Hình ảnh thực tế từ khách hàng</b>
          <div class="d-flex flex-row justify-content-center">
            <img src='assets/images/default-book.png' style="height: 70px; width: 70px; object-fit: cover;" alt="Avatar" class="p-1 m-2 real-avatar" />
            <img src='assets/images/default-book.png' style="height: 70px; width: 70px; object-fit: cover;" alt="Avatar" class="p-1 m-2 real-avatar" />
            <img src='assets/images/default-book.png' style="height: 70px; width: 70px; object-fit: cover;" alt="Avatar"  class="p-1 m-2 real-avatar"/>
            <img src='assets/images/default-book.png' style="height: 70px; width: 70px; object-fit: cover;" alt="Avatar"  class="p-1 m-2 real-avatar"/>
          </div>
          <h1 class="text-app text-left font-weight-bold text-center my-4">Mã sách: {{book?.studentCode}}</h1>
        </div>
      </div>
      <div class=" col-9 d-flex flex-column">
        <div class="d-flex flex-column">
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Mã sách: </b></div>
            <div class="col-9">{{book?.book_id || '-'}}</div>
          </div>
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Tên sách: </b></div>
            <div class="col-9">{{book?.book_name || '-'}}</div>
          </div>
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Tác giả: </b></div>
            <div class="col-9">{{book?.author?.author_name || '-'}}</div>
          </div>
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Nhà cung cấp: </b></div>
            <div class="col-9">{{book?.supplier?.contact_name | vnd}}</div>
          </div>
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Thể loại: </b></div>
            <div class="col-9">{{book?.category?.category_name || '-'}}</div>
          </div>
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Số trang: </b></div>
            <div class="col-9">{{book?.category?.page_number || 0}}</div>
          </div>
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Giá vốn: </b></div>
            <div class="col-9">{{book?.cost_price || 0 }}</div>
          </div>
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Giá bán: </b></div>
            <div class="col-9">{{book?.retail_price || 0}}</div>
          </div>
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Giảm giá: </b></div>
            <div class="col-9">{{book?.discount }}</div>
          </div>
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Tóm tắt: </b></div>
            <div class="col-9">{{book?.description || '-'}}</div>
          </div>
          <div class="row py-3">
            <div class="col-2 text-center font-weight-bold"><b>Ghi chú: </b></div>
            <div class="col-9">{{book?.notes || '-'}}</div>
          </div>
        </div>
        <div class="d-flex flex-column">
          <div class="row py-3">
            <div class="col-2 app-flex">
              <div class="btn btn-outline-app" (click)="goBack()"> <i class="fa fa-arrow-left pr-1" aria-hidden="true">
                </i> Quay lại</div>
            </div>
            <ng-container>
              <div class="col-9 d-flex flex-row justify-content-end" (click)="onOpenDeleteModal()">
                <div class="btn-danger  align-self-center mr-2">
                  <i class="fas fa-trash-alt trash-icon"></i>
                  <span class="ml-1" style="width: 60px;">Xóa bỏ</span>
                </div>
                <div class="btn-app  align-self-center" (click)="onClickUpdateBtn()">
                  <i class="fas fa-tools mr-2 "></i>
                  <span>Cập nhật</span>
                </div>
              </div>
            </ng-container>
            <ng-template #editButtons>
              <div class="d-flex flex-row ml-auto">
                <div class="btn  btn-outline-danger d-flex justify-content-center align-items-center mr-2">
                  Hủy
                </div>
                <div class="btn btn-app btn-outline-app align-self-center" >
                  <span class="ml-1">Xác nhận</span>
                </div>
              </div>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
  <ng-template #updateForm>
    <div class="d-flex flex-row p-5 mb-4" [formGroup]="updateBookForm">
      <div class="avatar col-3 mb-4">
        <div class="d-flex flex-column">
          <img src='assets/images/default-book.png' style="height: 390px; width: 390px; object-fit: cover;" alt="Avatar" />
          <b class="mt-3">Hình ảnh thực tế từ khách hàng</b>
          <div class="d-flex flex-row justify-content-center">
            <img src='assets/images/default-book.png' style="height: 70px; width: 70px; object-fit: cover;" alt="Avatar" class="p-1 m-2 real-avatar" />
            <img src='assets/images/default-book.png' style="height: 70px; width: 70px; object-fit: cover;" alt="Avatar" class="p-1 m-2 real-avatar" />
            <img src='assets/images/default-book.png' style="height: 70px; width: 70px; object-fit: cover;" alt="Avatar"  class="p-1 m-2 real-avatar"/>
            <img src='assets/images/default-book.png' style="height: 70px; width: 70px; object-fit: cover;" alt="Avatar"  class="p-1 m-2 real-avatar"/>
          </div>
          <h1 class="text-app text-left font-weight-bold text-center my-4">Mã sách: {{book?.studentCode}}</h1>
        </div>
      </div>
      <div class=" col-9 d-flex flex-column">
        <div class="d-flex flex-column">
          <div class="row py-3">
            <div class="col-2 app-flex"><b>Tên sách: </b></div>
            <div class="col-9">
              <input type="text" class="form-control" placeholder="Nhập tên sách" formControlName="book_name"
              />
            </div>
          </div>
          <div class="row py-3">
            <div class="col-2 app-flex"><b>Tác giả: </b></div>
            <div class="col-9">
              <input type="text" class="form-control" placeholder="Nhập tác giả"  
              formControlName="author_name"
              />
            </div>
          </div>
          <div class="row py-3">
            <div class="col-2 app-flex"><b>Nhà cung cấp: </b></div>
            <div class="col-9">
              <input type="text" class="form-control" placeholder="Nhập nhà cung cấp" 
              formControlName="supplier_name"
              />
            </div>
          </div>
          <div class="row py-3">
            <div class="col-2 app-flex"><b>Thể loại: </b></div>
            <div class="col-9">
              <input type="text" class="form-control" placeholder="Nhập thể loại sách"  
              formControlName="category_name"
              />
            </div>
          </div>
          <div class="row py-3">
            <div class="col-2 app-flex"><b>Số trang: </b></div>
            <div class="col-9">
              <input type="number" class="form-control" placeholder="Nhập số trang"  
              formControlName="page_number"
              />
            </div>
          </div>
          <div class="row py-3">
            <div class="col-2 app-flex"><b>Giá vốn: </b></div>
            <div class="col-9">
              <input type="number" class="form-control" placeholder="Nhập giá vốn "  formControlName="cost_price"
              />
            </div>
          </div>
          <div class="row py-3">
            <div class="col-2 app-flex"><b>Giá bán: </b></div>
            <div class="col-9">
              <input type="number" class="form-control" placeholder="Nhập giá bán"  formControlName="retail_price"
              />
            </div>
          </div>
          <div class="row py-3">
            <div class="col-2 app-flex"><b>Giảm giá (%): </b></div>
            <div class="col-9">
              <input type="number" class="form-control" placeholder="Nhập giá trị giảm giá"  
              formControlName="discount"
              />
            </div>
          </div>
          <div class="row py-3">
            <div class="col-2 app-flex"><b>Tóm tắt: </b></div>
            <div class="col-9">
              <input type="text" class="form-control" placeholder="Nhập tóm tắt nội dung sách"  formControlName="description"
              />
            </div>
          </div>
          <div class="row py-3">
            <div class="col-2 app-flex"><b>Ghi chú: </b></div>
            <div class="col-9">
              <input type="text" class="form-control" placeholder="Nhập ghi chú"   formControlName="note"
              />
            </div>
          </div>
        </div>
        <div class="d-flex flex-column">
          <div class="row py-3">
            <div class="col-2 app-flex">
              <div class="btn btn-outline-app" (click)="goBack()"> <i class="fa fa-arrow-left pr-1" aria-hidden="true">
                </i> Quay lại</div>
            </div>
              <div class="col-9 d-flex flex-row justify-content-end">
                <div class="btn-danger btn-outline  align-self-center mr-2" (click)="setupDataForm()">
                  <span class="ml-1" style="width: 60px;">Hủy</span>
                </div>
                <div class="btn-app  align-self-center" (click)="onClickUpdateBtn()">
                  <span>Xác nhận</span>
                </div>
              </div>
          </div>
        </div>
      </div>
    </div> 
  </ng-template>
</ng-container>